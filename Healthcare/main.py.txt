import openai
import gradio as gr

# Set your OpenAI GPT-3 API key
openai.api_key = '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'

# Define the healthcare chatbot function
def healthcare_chatbot(question):
    # You can customize the prompt as needed
    prompt_text = f"You: {question}\nHealthcare Chatbot:"
    
    # Make a request to the OpenAI API
    response = openai.Completion.create(
        engine="text-davinci-003",  # Choose the appropriate engine
        prompt=prompt_text,
        max_tokens=150  # Adjust the max tokens as needed
    )
    
    # Extract and return the model's reply
    reply = response['choices'][0]['text'].strip()
    return reply

# Create a Gradio interface for the healthcare chatbot
iface = gr.Interface(
    fn=healthcare_chatbot,
    inputs="text",
    outputs="text",
    live=True,
    title="Healthcare Chatbot",
    description="Ask health-related questions, and the chatbot will provide answers."
)

# Launch the interface
iface.launch()